<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub JSON Admin Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --black: #121212;
            --aqwa: #00D4FF;
            --green: #00FF9D;
            --light-blue: #36D1FF;
            --dark-blue: #1E3A8A;
            --purple: #7C3AED;
            --gray: #2D3748;
            --light-gray: #F7FAFC;
            --white: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: var(--black);
            color: var(--white);
            min-height: 100vh;
            padding-bottom: 70px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--gray);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
            background: linear-gradient(45deg, var(--aqwa), var(--green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--aqwa), var(--green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .github-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            border-radius: 50px;
            background-color: var(--gray);
            font-size: 0.9rem;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #FF4D4D;
        }

        .status-indicator.connected {
            background-color: var(--green);
            box-shadow: 0 0 10px var(--green);
        }

        /* Setup Card */
        .setup-card {
            background: linear-gradient(135deg, var(--dark-blue), var(--purple));
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .setup-card h2 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .setup-card h2 i {
            color: var(--aqwa);
        }

        .github-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 500;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .form-group input, .form-group select, .form-group textarea {
            padding: 15px;
            border-radius: 10px;
            border: none;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--white);
            font-size: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--aqwa);
            box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.2);
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        /* Button Styles */
        .btn {
            padding: 15px 25px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--aqwa), var(--light-blue));
            color: var(--black);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 212, 255, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(45deg, var(--green), #00CC88);
            color: var(--black);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 255, 157, 0.3);
        }

        .btn-danger {
            background: linear-gradient(45deg, #FF416C, #FF4B2B);
            color: var(--white);
        }

        .btn-warning {
            background: linear-gradient(45deg, #FFB347, #FFCC33);
            color: var(--black);
        }

        /* Dashboard Cards */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: var(--gray);
            border-radius: 15px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card i {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .stat-card:nth-child(1) i { color: var(--aqwa); }
        .stat-card:nth-child(2) i { color: var(--green); }
        .stat-card:nth-child(3) i { color: var(--light-blue); }
        .stat-card:nth-child(4) i { color: #FF6B6B; }

        .stat-card h3 {
            font-size: 2.5rem;
            font-weight: 700;
        }

        .stat-card p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* Device Management */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-header h2 {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-header h2 i {
            color: var(--aqwa);
        }

        .devices-table {
            width: 100%;
            background-color: var(--gray);
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .table-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 0.5fr;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.2);
            font-weight: 600;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .table-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 0.5fr;
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            align-items: center;
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .device-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-active {
            background-color: rgba(0, 255, 157, 0.2);
            color: var(--green);
        }

        .status-inactive {
            background-color: rgba(255, 107, 107, 0.2);
            color: #FF6B6B;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--white);
            border: none;
        }

        .btn-icon:hover {
            transform: scale(1.1);
        }

        .btn-edit:hover {
            background-color: var(--aqwa);
        }

        .btn-delete:hover {
            background-color: #FF6B6B;
        }

        /* Add/Edit Device Form */
        .device-form {
            background-color: var(--gray);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            display: none;
        }

        .device-form.active {
            display: block;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--gray);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            z-index: 1000;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            color: rgba(255, 255, 255, 0.5);
            text-decoration: none;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .nav-item i {
            font-size: 1.3rem;
        }

        .nav-item.active {
            color: var(--aqwa);
        }

        .nav-item:hover {
            color: var(--white);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 15px;
            }
            
            .dashboard {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .table-header, .table-row {
                grid-template-columns: 1fr 1fr;
                padding: 15px 10px;
            }
            
            .table-header :nth-child(3),
            .table-header :nth-child(4),
            .table-header :nth-child(5),
            .table-row :nth-child(3),
            .table-row :nth-child(4),
            .table-row :nth-child(5) {
                display: none;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }
            
            .github-status {
                align-self: flex-start;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 0.9rem;
            }
        }

        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--aqwa);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            background-color: var(--gray);
            color: var(--white);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 2000;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast-success {
            border-left: 5px solid var(--green);
        }

        .toast-error {
            border-left: 5px solid #FF6B6B;
        }

        .toast-info {
            border-left: 5px solid var(--aqwa);
        }

        /* Tabs */
        .tabs {
            display: none;
        }

        .tabs.active {
            display: block;
        }

        /* GitHub Connection Form */
        .github-connections {
            background-color: var(--gray);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .connection-item {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .connection-info h4 {
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: var(--aqwa);
        }

        .connection-info p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        /* Code Editor */
        .code-editor {
            background-color: #1e1e1e;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            overflow-x: auto;
        }

        .json-key {
            color: #9CDCFE;
        }

        .json-value {
            color: #CE9178;
        }

        .json-string {
            color: #CE9178;
        }

        .json-number {
            color: #B5CEA8;
        }

        .json-boolean {
            color: #569CD6;
        }
        
        /* App Update Form */
        .app-form {
            background-color: var(--gray);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }
        
        /* Small buttons */
        .btn-small {
            padding: 8px 15px;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fab fa-github"></i>
                </div>
                <h1>GitHub JSON Admin</h1>
            </div>
            <div class="github-status">
                <div class="status-indicator" id="statusIndicator"></div>
                <span id="statusText">Disconnected</span>
            </div>
        </div>

        <!-- Setup Card -->
        <div class="setup-card" id="setupCard">
            <h2><i class="fas fa-link"></i> GitHub JSON Connection</h2>
            <form class="github-form" id="githubForm">
                <div class="form-group">
                    <label for="githubUrl"><i class="fas fa-link"></i> GitHub Raw JSON URL</label>
                    <input type="text" id="githubUrl" placeholder="https://raw.githubusercontent.com/username/repo/branch/file.json" value="https://raw.githubusercontent.com/programer-nuzkim/Update-App-2026/refs/heads/main/RealtimeUpdate.json">
                </div>
                <div class="form-group">
                    <label for="githubToken"><i class="fas fa-key"></i> GitHub Token (Required for Updates)</label>
                    <input type="password" id="githubToken" placeholder="github_pat_xxxxxxxxxxxxxxxx" value="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">
                    <small style="color: rgba(255,255,255,0.6);">Your personal access token</small>
                </div>
                <div class="form-row">
                    <button type="button" class="btn btn-primary" id="connectBtn">
                        <i class="fas fa-plug"></i> Load JSON Data
                    </button>
                    <button type="button" class="btn btn-secondary" id="addConnectionBtn">
                        <i class="fas fa-plus"></i> Add Connection
                    </button>
                </div>
            </form>
        </div>

        <!-- Dashboard Tab -->
        <div class="tabs active" id="dashboardTab">
            <div class="dashboard" id="dashboard">
                <div class="stat-card">
                    <i class="fas fa-mobile-alt"></i>
                    <h3 id="totalDevices">0</h3>
                    <p>Total Devices</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-check-circle"></i>
                    <h3 id="activeDevices">0</h3>
                    <p>Active Devices</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-clock"></i>
                    <h3 id="todayDevices">0</h3>
                    <p>Updated Today</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-code-branch"></i>
                    <h3 id="versionCount">0</h3>
                    <p>App Versions</p>
                </div>
            </div>

            <!-- JSON Data Viewer -->
            <div class="section-header">
                <h2><i class="fas fa-code"></i> JSON Data Viewer</h2>
                <button class="btn btn-warning" id="editJsonBtn">
                    <i class="fas fa-edit"></i> Edit JSON
                </button>
            </div>
            
            <div class="code-editor" id="jsonViewer">
                <pre id="jsonContent">Click "Load JSON Data" to view JSON content</pre>
            </div>
            
            <div class="btn-row" style="justify-content: flex-end; margin-top: 20px;">
                <button class="btn btn-primary" id="saveJsonBtn" style="display: none;">
                    <i class="fas fa-save"></i> Save JSON to GitHub
                </button>
            </div>
        </div>

        <!-- App Configuration Tab -->
        <div class="tabs" id="configTab">
            <div class="section-header">
                <h2><i class="fas fa-sliders-h"></i> App Configuration</h2>
            </div>

            <div class="app-form">
                <h3><i class="fas fa-cog"></i> Update Settings</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="versionCode">Version Code</label>
                        <input type="number" id="versionCode" class="input-box" placeholder="2">
                    </div>
                    <div class="form-group">
                        <label for="versionName">Version Name</label>
                        <input type="text" id="versionName" class="input-box" placeholder="3.3.6">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="title">Update Title</label>
                        <input type="text" id="title" class="input-box" placeholder="New version available">
                    </div>
                    <div class="form-group">
                        <label for="forceUpdate">Force Update</label>
                        <select id="forceUpdate" class="input-box">
                            <option value="true">Yes</option>
                            <option value="false">No</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="description">Update Description</label>
                    <textarea id="description" class="input-box" rows="3" placeholder="Bug fixes, new UI, and anti-ban improvements."></textarea>
                </div>
                <div class="form-group">
                    <label for="apkUrl">APK Download URL</label>
                    <input type="text" id="apkUrl" class="input-box" placeholder="https://www.dropbox.com/s/.../app.apk">
                </div>
                <div class="btn-row" style="justify-content: flex-end;">
                    <button class="btn btn-primary" id="saveConfigBtn">
                        <i class="fas fa-save"></i> Save Configuration
                    </button>
                </div>
            </div>

            <!-- Device Management -->
            <div class="section-header" style="margin-top: 30px;">
                <h2><i class="fas fa-list"></i> Device Management</h2>
                <button class="btn btn-secondary" id="addDeviceBtn">
                    <i class="fas fa-plus"></i> Add Device
                </button>
            </div>

            <!-- Add/Edit Device Form -->
            <div class="device-form" id="deviceForm">
                <h3><i class="fas fa-plus-circle"></i> <span id="formTitle">Add New Device</span></h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="deviceName">Device Name</label>
                        <input type="text" id="deviceName" placeholder="Enter device name">
                    </div>
                    <div class="form-group">
                        <label for="deviceId">Device ID</label>
                        <input type="text" id="deviceId" placeholder="Enter unique device ID">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="deviceType">Device Type</label>
                        <select id="deviceType">
                            <option value="Android">Android</option>
                            <option value="iOS">iOS</option>
                            <option value="Windows">Windows</option>
                            <option value="Mac">Mac</option>
                            <option value="Linux">Linux</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="deviceStatus">Status</label>
                        <select id="deviceStatus">
                            <option value="Active">Active</option>
                            <option value="Inactive">Inactive</option>
                            <option value="Pending">Pending</option>
                            <option value="Blocked">Blocked</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <button class="btn btn-primary" id="saveDeviceBtn">
                        <i class="fas fa-save"></i> Save Device
                    </button>
                    <button class="btn btn-danger" id="cancelDeviceBtn">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>

            <!-- Devices Table -->
            <div class="devices-table">
                <div class="table-header">
                    <div>Device Name</div>
                    <div>Device ID</div>
                    <div>Type</div>
                    <div>Status</div>
                    <div>Actions</div>
                </div>
                <div id="devicesList">
                    <!-- Devices will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Connections Tab -->
        <div class="tabs" id="connectionsTab">
            <div class="section-header">
                <h2><i class="fas fa-network-wired"></i> GitHub Connections</h2>
                <button class="btn btn-primary" id="newConnectionBtn">
                    <i class="fas fa-plus"></i> New Connection
                </button>
            </div>

            <div class="github-connections" id="connectionsList">
                <!-- Connections will be loaded here -->
            </div>

            <!-- New Connection Form -->
            <div class="device-form" id="newConnectionForm">
                <h3><i class="fas fa-plus-circle"></i> Add GitHub Connection</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="connectionName">Connection Name</label>
                        <input type="text" id="connectionName" placeholder="My GitHub Connection">
                    </div>
                    <div class="form-group">
                        <label for="connectionUrl">GitHub Raw URL</label>
                        <input type="text" id="connectionUrl" placeholder="https://raw.githubusercontent.com/user/repo/branch/file.json">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="githubTokenNew">GitHub Token</label>
                        <input type="password" id="githubTokenNew" placeholder="ghp_xxxxxxxxxxxx">
                    </div>
                    <div class="form-group">
                        <label for="repoPath">Repo Path (user/repo/file.json)</label>
                        <input type="text" id="repoPath" placeholder="user/repo/file.json">
                    </div>
                </div>
                <div class="form-row">
                    <button class="btn btn-primary" id="saveConnectionBtn">
                        <i class="fas fa-save"></i> Save Connection
                    </button>
                    <button class="btn btn-danger" id="cancelConnectionBtn">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tabs" id="settingsTab">
            <div class="section-header">
                <h2><i class="fas fa-cogs"></i> Settings</h2>
            </div>
            
            <div class="setup-card">
                <h2><i class="fas fa-database"></i> Data Management</h2>
                <div class="form-row">
                    <button class="btn btn-primary" id="exportDataBtn">
                        <i class="fas fa-download"></i> Export JSON Data
                    </button>
                    <button class="btn btn-warning" id="importDataBtn">
                        <i class="fas fa-upload"></i> Import JSON Data
                    </button>
                    <button class="btn btn-danger" id="clearDataBtn">
                        <i class="fas fa-trash"></i> Clear Local Data
                    </button>
                </div>
            </div>

            <div class="setup-card">
                <h2><i class="fas fa-palette"></i> Theme Settings</h2>
                <div class="form-row">
                    <button class="btn btn-small" data-theme="dark" style="background: #121212; color: white;">
                        <i class="fas fa-moon"></i> Dark
                    </button>
                    <button class="btn btn-small" data-theme="light" style="background: #f0f0f0; color: black;">
                        <i class="fas fa-sun"></i> Light
                    </button>
                    <button class="btn btn-small" data-theme="blue" style="background: #1e3a8a; color: white;">
                        <i class="fas fa-palette"></i> Blue
                    </button>
                </div>
            </div>
            
            <div class="setup-card">
                <h2><i class="fas fa-info-circle"></i> About</h2>
                <p style="color: rgba(255,255,255,0.7); margin-bottom: 15px;">
                    This admin panel connects directly to GitHub to manage JSON data.
                    It supports real-time updates, device management, and full CRUD operations.
                </p>
                <div class="form-row">
                    <button class="btn btn-small" onclick="showToast('Admin Panel v1.0', 'info')">
                        <i class="fas fa-info"></i> Version Info
                    </button>
                    <button class="btn btn-small" onclick="loadData()">
                        <i class="fas fa-sync"></i> Refresh Data
                    </button>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div class="toast" id="toast">
            <i class="fas fa-check-circle"></i>
            <span id="toastMessage">Operation completed successfully!</span>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <a href="#" class="nav-item active" data-tab="dashboardTab">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
        </a>
        <a href="#" class="nav-item" data-tab="configTab">
            <i class="fas fa-sliders-h"></i>
            <span>Configuration</span>
        </a>
        <a href="#" class="nav-item" data-tab="connectionsTab">
            <i class="fab fa-github"></i>
            <span>Connections</span>
        </a>
        <a href="#" class="nav-item" data-tab="settingsTab">
            <i class="fas fa-cogs"></i>
            <span>Settings</span>
        </a>
    </div>

    <!-- Loading Overlay -->
    <div id="loader" style="display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); z-index: 3000; display: flex; justify-content: center; align-items: center;">
        <i class="fas fa-spinner fa-spin fa-3x" style="color: var(--aqwa);"></i>
    </div>

    <script>
        // Application State
        let currentJsonData = null;
        let currentGithubUrl = "https://raw.githubusercontent.com/programer-nuzkim/Update-App-2026/refs/heads/main/RealtimeUpdate.json";
        let githubToken = "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";
        let isConnected = false;
        let editMode = false;
        let editingDeviceId = null;
        let editingConnectionId = null;

        // DOM Elements
        const statusIndicator = document.getElementById('statusIndicator');
        const statusText = document.getElementById('statusText');
        const connectBtn = document.getElementById('connectBtn');
        const githubUrlInput = document.getElementById('githubUrl');
        const githubTokenInput = document.getElementById('githubToken');
        const jsonContent = document.getElementById('jsonContent');
        const jsonViewer = document.getElementById('jsonViewer');
        const editJsonBtn = document.getElementById('editJsonBtn');
        const saveJsonBtn = document.getElementById('saveJsonBtn');
        const devicesList = document.getElementById('devicesList');
        const deviceForm = document.getElementById('deviceForm');
        const addDeviceBtn = document.getElementById('addDeviceBtn');
        const saveDeviceBtn = document.getElementById('saveDeviceBtn');
        const cancelDeviceBtn = document.getElementById('cancelDeviceBtn');
        const formTitle = document.getElementById('formTitle');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        const navItems = document.querySelectorAll('.nav-item');
        const tabs = document.querySelectorAll('.tabs');
        const totalDevicesEl = document.getElementById('totalDevices');
        const activeDevicesEl = document.getElementById('activeDevices');
        const todayDevicesEl = document.getElementById('todayDevices');
        const versionCountEl = document.getElementById('versionCount');
        const connectionsList = document.getElementById('connectionsList');
        const newConnectionBtn = document.getElementById('newConnectionBtn');
        const newConnectionForm = document.getElementById('newConnectionForm');
        const saveConnectionBtn = document.getElementById('saveConnectionBtn');
        const cancelConnectionBtn = document.getElementById('cancelConnectionBtn');
        const addConnectionBtn = document.getElementById('addConnectionBtn');
        const exportDataBtn = document.getElementById('exportDataBtn');
        const importDataBtn = document.getElementById('importDataBtn');
        const clearDataBtn = document.getElementById('clearDataBtn');
        const saveConfigBtn = document.getElementById('saveConfigBtn');
        const versionCodeInput = document.getElementById('versionCode');
        const versionNameInput = document.getElementById('versionName');
        const titleInput = document.getElementById('title');
        const descriptionInput = document.getElementById('description');
        const apkUrlInput = document.getElementById('apkUrl');
        const forceUpdateSelect = document.getElementById('forceUpdate');
        const loader = document.getElementById('loader');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Load saved connections
            loadConnections();
            
            // Set token from input
            githubTokenInput.value = githubToken;
            
            // Auto-load data after 1 second
            setTimeout(() => {
                loadJsonData();
            }, 1000);
            
            // Set up event listeners
            setupEventListeners();
        });

        function setupEventListeners() {
            // Connect button
            connectBtn.addEventListener('click', loadJsonData);
            
            // Add device button
            addDeviceBtn.addEventListener('click', () => {
                editingDeviceId = null;
                formTitle.textContent = 'Add New Device';
                deviceForm.classList.add('active');
                clearDeviceForm();
            });
            
            // Save device button
            saveDeviceBtn.addEventListener('click', saveDevice);
            
            // Cancel device button
            cancelDeviceBtn.addEventListener('click', () => {
                deviceForm.classList.remove('active');
                editingDeviceId = null;
            });
            
            // Edit JSON button
            editJsonBtn.addEventListener('click', enableJsonEdit);
            
            // Save JSON button
            saveJsonBtn.addEventListener('click', saveJsonEdit);
            
            // Save config button
            saveConfigBtn.addEventListener('click', saveConfig);
            
            // New connection button
            newConnectionBtn.addEventListener('click', () => {
                newConnectionForm.classList.add('active');
            });
            
            // Save connection button
            saveConnectionBtn.addEventListener('click', saveConnection);
            
            // Cancel connection button
            cancelConnectionBtn.addEventListener('click', () => {
                newConnectionForm.classList.remove('active');
                clearConnectionForm();
            });
            
            // Add connection button
            addConnectionBtn.addEventListener('click', () => {
                switchTab('connectionsTab');
                newConnectionForm.classList.add('active');
            });
            
            // Export data button
            exportDataBtn.addEventListener('click', exportData);
            
            // Import data button
            importDataBtn.addEventListener('click', importData);
            
            // Clear data button
            clearDataBtn.addEventListener('click', clearData);
            
            // Bottom navigation
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    // Remove active class from all items
                    navItems.forEach(nav => nav.classList.remove('active'));
                    
                    // Add active class to clicked item
                    item.classList.add('active');
                    
                    // Get tab id
                    const tabId = item.getAttribute('data-tab');
                    switchTab(tabId);
                });
            });
            
            // Theme buttons
            document.querySelectorAll('[data-theme]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const theme = btn.getAttribute('data-theme');
                    document.body.style.backgroundColor = getComputedStyle(btn).backgroundColor;
                    showToast(`Theme changed to ${theme}`, 'info');
                });
            });
        }

        // Load JSON data from GitHub
        async function loadJsonData() {
            const url = githubUrlInput.value.trim();
            const token = githubTokenInput.value.trim();
            
            if (!url) {
                showToast('Please enter a GitHub URL', 'error');
                return;
            }
            
            currentGithubUrl = url;
            githubToken = token;
            
            showLoader();
            connectBtn.innerHTML = '<div class="spinner"></div> Loading...';
            connectBtn.disabled = true;

            try {
                // Add cache busting to prevent caching
                const cacheBuster = `?t=${Date.now()}`;
                const response = await fetch(url + cacheBuster);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                currentJsonData = data;
                
                // Update UI
                updateConnectionStatus(true);
                updateJsonViewer(data);
                updateStats(data);
                updateDevicesList(data);
                updateConfigForm(data);
                
                showToast('JSON data loaded successfully!', 'success');
                
                // Save to localStorage
                saveToLocalStorage('lastJsonData', data);
                saveToLocalStorage('lastGithubUrl', url);
                saveToLocalStorage('githubToken', token);
                
            } catch (error) {
                console.error('Error loading JSON:', error);
                showToast(`Error: ${error.message}`, 'error');
                updateConnectionStatus(false);
                
                // Try to load from localStorage
                const savedData = loadFromLocalStorage('lastJsonData');
                if (savedData) {
                    currentJsonData = savedData;
                    updateJsonViewer(savedData);
                    updateStats(savedData);
                    updateDevicesList(savedData);
                    updateConfigForm(savedData);
                    showToast('Loaded from local cache', 'info');
                }
            } finally {
                connectBtn.innerHTML = '<i class="fas fa-plug"></i> Load JSON Data';
                connectBtn.disabled = false;
                hideLoader();
            }
        }

        // Update connection status UI
        function updateConnectionStatus(connected) {
            if (connected) {
                statusIndicator.classList.add('connected');
                statusText.textContent = 'Connected';
                isConnected = true;
            } else {
                statusIndicator.classList.remove('connected');
                statusText.textContent = 'Disconnected';
                isConnected = false;
            }
        }

        // Update JSON viewer with syntax highlighting
        function updateJsonViewer(data) {
            const jsonString = JSON.stringify(data, null, 2);
            const highlighted = syntaxHighlight(jsonString);
            jsonContent.innerHTML = highlighted;
            
            // Show/hide edit button
            if (!editMode) {
                editJsonBtn.style.display = 'flex';
                editJsonBtn.innerHTML = '<i class="fas fa-edit"></i> Edit JSON';
                editJsonBtn.onclick = enableJsonEdit;
                saveJsonBtn.style.display = 'none';
            }
        }

        // Syntax highlighting for JSON
        function syntaxHighlight(json) {
            json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g, 
            function (match) {
                let cls = 'json-number';
                if (/^"/.test(match)) {
                    if (/:$/.test(match)) {
                        cls = 'json-key';
                    } else {
                        cls = 'json-string';
                    }
                } else if (/true|false/.test(match)) {
                    cls = 'json-boolean';
                } else if (/null/.test(match)) {
                    cls = 'json-null';
                }
                return '<span class="' + cls + '">' + match + '</span>';
            });
        }

        // Enable JSON editing
        function enableJsonEdit() {
            editMode = true;
            const jsonString = JSON.stringify(currentJsonData, null, 2);
            jsonContent.innerHTML = `<textarea id="jsonEditor" style="width:100%; height:400px; background:#1e1e1e; color:#fff; border:none; font-family:monospace; padding:10px; font-size:14px; line-height:1.5;">${jsonString}</textarea>`;
            
            editJsonBtn.innerHTML = '<i class="fas fa-times"></i> Cancel Edit';
            editJsonBtn.onclick = cancelJsonEdit;
            saveJsonBtn.style.display = 'flex';
        }

        // Cancel JSON editing
        function cancelJsonEdit() {
            editMode = false;
            updateJsonViewer(currentJsonData);
            editJsonBtn.innerHTML = '<i class="fas fa-edit"></i> Edit JSON';
            editJsonBtn.onclick = enableJsonEdit;
            saveJsonBtn.style.display = 'none';
        }

        // Save JSON edits to GitHub
        async function saveJsonEdit() {
            const editor = document.getElementById('jsonEditor');
            if (!editor) return;
            
            showLoader();
            
            try {
                const newData = JSON.parse(editor.value);
                currentJsonData = newData;
                
                // Update UI
                updateJsonViewer(newData);
                updateStats(newData);
                updateDevicesList(newData);
                updateConfigForm(newData);
                
                // Save to localStorage
                saveToLocalStorage('lastJsonData', newData);
                
                // Update on GitHub
                const success = await updateGitHubJson(newData);
                
                if (success) {
                    showToast('JSON updated successfully on GitHub!', 'success');
                    editMode = false;
                    editJsonBtn.innerHTML = '<i class="fas fa-edit"></i> Edit JSON';
                    editJsonBtn.onclick = enableJsonEdit;
                    saveJsonBtn.style.display = 'none';
                }
                
            } catch (error) {
                showToast('Invalid JSON: ' + error.message, 'error');
            } finally {
                hideLoader();
            }
        }

        // Update JSON on GitHub
        async function updateGitHubJson(data) {
            const token = githubToken;
            const url = githubUrlInput.value.trim();
            
            if (!token) {
                showToast('GitHub token is required for updates', 'error');
                return false;
            }
            
            try {
                // Extract repo info from URL
                const urlMatch = url.match(/https:\/\/raw\.githubusercontent\.com\/([^\/]+)\/([^\/]+)\/([^\/]+)\/(.+)/);
                if (!urlMatch) {
                    showToast('Invalid GitHub URL format', 'error');
                    return false;
                }
                
                const [, owner, repo, branch, path] = urlMatch;
                
                // Get current file info to get SHA
                const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${path}`;
                
                const getResponse = await fetch(apiUrl, {
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'User-Agent': 'GitHub-JSON-Admin'
                    }
                });
                
                let sha = '';
                if (getResponse.ok) {
                    const fileInfo = await getResponse.json();
                    sha = fileInfo.sha;
                }
                
                // Update the file
                const updateResponse = await fetch(apiUrl, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json',
                        'User-Agent': 'GitHub-JSON-Admin'
                    },
                    body: JSON.stringify({
                        message: 'Update JSON data from admin panel',
                        content: btoa(JSON.stringify(data, null, 2)),
                        sha: sha || undefined,
                        branch: branch
                    })
                });
                
                if (updateResponse.ok) {
                    showToast('JSON updated on GitHub successfully!', 'success');
                    return true;
                } else {
                    const errorData = await updateResponse.json();
                    throw new Error(errorData.message || 'Failed to update on GitHub');
                }
                
            } catch (error) {
                console.error('GitHub update error:', error);
                showToast('GitHub update failed: ' + error.message, 'error');
                return false;
            }
        }

        // Update statistics
        function updateStats(data) {
            // Count devices/apps
            const devices = data.devices || {};
            const versions = data.versions || [];
            
            totalDevicesEl.textContent = Object.keys(devices).length;
            activeDevicesEl.textContent = Object.values(devices).filter(d => d.status === 'Active').length;
            
            // Count updates today
            const today = new Date().toISOString().split('T')[0];
            const todayUpdates = Object.values(devices).filter(d => {
                return d.lastUpdate && d.lastUpdate.startsWith(today);
            }).length;
            todayDevicesEl.textContent = todayUpdates;
            
            versionCountEl.textContent = versions.length || 0;
        }

        // Update config form
        function updateConfigForm(data) {
            versionCodeInput.value = data.versionCode || 2;
            versionNameInput.value = data.versionName || '3.3.6';
            titleInput.value = data.title || 'New version available';
            descriptionInput.value = data.description || 'Bug fixes, new UI, and anti-ban improvements.';
            apkUrlInput.value = data.apkUrl || 'https://www.dropbox.com/scl/fi/dyihqwfle5u9q2y8k70pk/Application_1.0.apk?rlkey=sdggeyzf35ks6yx2pz9qr1a2j&st=v74cbcnv&dl=1';
            forceUpdateSelect.value = data.forceUpdate ? 'true' : 'false';
        }

        // Save configuration
        async function saveConfig() {
            if (!currentJsonData) return;
            
            currentJsonData.versionCode = parseInt(versionCodeInput.value) || 2;
            currentJsonData.versionName = versionNameInput.value || '3.3.6';
            currentJsonData.title = titleInput.value || 'New version available';
            currentJsonData.description = descriptionInput.value || 'Bug fixes, new UI, and anti-ban improvements.';
            currentJsonData.apkUrl = apkUrlInput.value || '';
            currentJsonData.forceUpdate = forceUpdateSelect.value === 'true';
            
            // Update UI
            updateJsonViewer(currentJsonData);
            
            // Save to localStorage
            saveToLocalStorage('lastJsonData', currentJsonData);
            
            // Update on GitHub
            showLoader();
            const success = await updateGitHubJson(currentJsonData);
            hideLoader();
            
            if (success) {
                showToast('Configuration saved successfully!', 'success');
            }
        }

        // Update devices list
        function updateDevicesList(data) {
            devicesList.innerHTML = '';
            const devices = data.devices || {};
            
            if (Object.keys(devices).length === 0) {
                devicesList.innerHTML = `
                    <div class="table-row" style="grid-column: 1/-1; text-align: center; padding: 40px;">
                        <div style="width: 100%;">
                            <i class="fas fa-inbox" style="font-size: 3rem; opacity: 0.3; margin-bottom: 15px;"></i>
                            <p>No devices found in JSON data</p>
                        </div>
                    </div>
                `;
                return;
            }
            
            Object.entries(devices).forEach(([deviceId, device]) => {
                const deviceRow = document.createElement('div');
                deviceRow.className = 'table-row';
                deviceRow.innerHTML = `
                    <div>${device.name || deviceId}</div>
                    <div>${deviceId}</div>
                    <div>${device.type || 'Unknown'}</div>
                    <div>
                        <span class="device-status ${device.status === 'Active' ? 'status-active' : 'status-inactive'}">
                            ${device.status || 'Inactive'}
                        </span>
                    </div>
                    <div class="action-buttons">
                        <button class="btn-icon btn-edit" onclick="editDevice('${deviceId}')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon btn-delete" onclick="deleteDevice('${deviceId}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                devicesList.appendChild(deviceRow);
            });
        }

        // Edit device
        window.editDevice = function(deviceId) {
            if (!currentJsonData) return;
            
            const devices = currentJsonData.devices || {};
            const device = devices[deviceId];
            
            if (device) {
                editingDeviceId = deviceId;
                formTitle.textContent = 'Edit Device';
                
                document.getElementById('deviceName').value = device.name || '';
                document.getElementById('deviceId').value = deviceId;
                document.getElementById('deviceType').value = device.type || 'Android';
                document.getElementById('deviceStatus').value = device.status || 'Active';
                
                deviceForm.classList.add('active');
            }
        };

        // Delete device
        window.deleteDevice = async function(deviceId) {
            if (!currentJsonData) return;
            
            if (confirm(`Are you sure you want to delete device ${deviceId}?`)) {
                const devices = currentJsonData.devices || {};
                delete devices[deviceId];
                
                // Update JSON and save
                currentJsonData.devices = devices;
                updateJsonViewer(currentJsonData);
                updateStats(currentJsonData);
                updateDevicesList(currentJsonData);
                
                // Save to localStorage
                saveToLocalStorage('lastJsonData', currentJsonData);
                
                // Update on GitHub
                showLoader();
                const success = await updateGitHubJson(currentJsonData);
                hideLoader();
                
                if (success) {
                    showToast('Device deleted successfully!', 'success');
                }
            }
        };

        // Save device
        async function saveDevice() {
            const deviceName = document.getElementById('deviceName').value.trim();
            const deviceId = document.getElementById('deviceId').value.trim();
            const deviceType = document.getElementById('deviceType').value;
            const deviceStatus = document.getElementById('deviceStatus').value;
            
            if (!deviceName || !deviceId) {
                showToast('Device name and ID are required', 'error');
                return;
            }
            
            if (!currentJsonData) {
                currentJsonData = { devices: {} };
            }
            
            if (!currentJsonData.devices) {
                currentJsonData.devices = {};
            }
            
            // Create or update device
            currentJsonData.devices[deviceId] = {
                name: deviceName,
                type: deviceType,
                status: deviceStatus,
                lastUpdate: new Date().toISOString()
            };
            
            // Update UI
            updateJsonViewer(currentJsonData);
            updateStats(currentJsonData);
            updateDevicesList(currentJsonData);
            
            // Save to localStorage
            saveToLocalStorage('lastJsonData', currentJsonData);
            
            // Close form
            deviceForm.classList.remove('active');
            
            // Update on GitHub
            showLoader();
            const success = await updateGitHubJson(currentJsonData);
            hideLoader();
            
            if (success) {
                showToast(`Device ${editingDeviceId ? 'updated' : 'added'} successfully!`, 'success');
            }
            
            editingDeviceId = null;
        }

        // Clear device form
        function clearDeviceForm() {
            document.getElementById('deviceName').value = '';
            document.getElementById('deviceId').value = '';
            document.getElementById('deviceType').value = 'Android';
            document.getElementById('deviceStatus').value = 'Active';
        }

        // Load saved connections
        function loadConnections() {
            const connections = loadFromLocalStorage('githubConnections') || [
                {
                    name: 'Default Connection',
                    url: 'https://raw.githubusercontent.com/programer-nuzkim/Update-App-2026/refs/heads/main/RealtimeUpdate.json',
                    token: githubToken,
                    repoPath: 'programer-nuzkim/Update-App-2026/main/RealtimeUpdate.json'
                }
            ];
            
            connectionsList.innerHTML = '';
            
            connections.forEach((conn, index) => {
                const connectionItem = document.createElement('div');
                connectionItem.className = 'connection-item';
                connectionItem.innerHTML = `
                    <div class="connection-info">
                        <h4>${conn.name}</h4>
                        <p>${conn.url}</p>
                        <small>${conn.repoPath || 'No repo path'}</small>
                    </div>
                    <div class="action-buttons">
                        <button class="btn-icon btn-edit" onclick="useConnection(${index})" title="Use Connection">
                            <i class="fas fa-plug"></i>
                        </button>
                        <button class="btn-icon btn-delete" onclick="deleteConnection(${index})" title="Delete Connection">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                connectionsList.appendChild(connectionItem);
            });
        }

        // Use connection
        window.useConnection = function(index) {
            const connections = loadFromLocalStorage('githubConnections') || [];
            const conn = connections[index];
            
            if (conn) {
                githubUrlInput.value = conn.url;
                githubTokenInput.value = conn.token || '';
                
                // Load the data
                loadJsonData();
                showToast(`Using connection: ${conn.name}`, 'info');
            }
        };

        // Delete connection
        window.deleteConnection = function(index) {
            const connections = loadFromLocalStorage('githubConnections') || [];
            if (confirm('Delete this connection?')) {
                connections.splice(index, 1);
                saveToLocalStorage('githubConnections', connections);
                loadConnections();
                showToast('Connection deleted', 'success');
            }
        };

        // Save new connection
        async function saveConnection() {
            const name = document.getElementById('connectionName').value.trim();
            const url = document.getElementById('connectionUrl').value.trim();
            const token = document.getElementById('githubTokenNew').value.trim();
            const repoPath = document.getElementById('repoPath').value.trim();
            
            if (!name || !url) {
                showToast('Name and URL are required', 'error');
                return;
            }
            
            const connections = loadFromLocalStorage('githubConnections') || [];
            connections.push({ name, url, token, repoPath });
            
            saveToLocalStorage('githubConnections', connections);
            
            // Clear form
            clearConnectionForm();
            
            newConnectionForm.classList.remove('active');
            loadConnections();
            
            showToast('Connection saved successfully!', 'success');
        }

        // Clear connection form
        function clearConnectionForm() {
            document.getElementById('connectionName').value = '';
            document.getElementById('connectionUrl').value = '';
            document.getElementById('githubTokenNew').value = '';
            document.getElementById('repoPath').value = '';
        }

        // Export data
        function exportData() {
            if (!currentJsonData) {
                showToast('No data to export', 'error');
                return;
            }
            
            const dataStr = JSON.stringify(currentJsonData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            
            const url = URL.createObjectURL(dataBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `github-admin-data-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('Data exported successfully!', 'success');
        }

        // Import data
        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = (e) => {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = (event) => {
                    try {
                        const data = JSON.parse(event.target.result);
                        currentJsonData = data;
                        
                        updateJsonViewer(data);
                        updateStats(data);
                        updateDevicesList(data);
                        updateConfigForm(data);
                        
                        saveToLocalStorage('lastJsonData', data);
                        
                        showToast('Data imported successfully!', 'success');
                        
                    } catch (error) {
                        showToast('Invalid JSON file', 'error');
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }

        // Clear data
        function clearData() {
            if (confirm('Clear all local data? This cannot be undone.')) {
                localStorage.clear();
                currentJsonData = null;
                
                updateJsonViewer({});
                updateStats({});
                updateDevicesList({});
                updateConfigForm({});
                
                githubUrlInput.value = 'https://raw.githubusercontent.com/programer-nuzkim/Update-App-2026/refs/heads/main/RealtimeUpdate.json';
                githubTokenInput.value = '';
                updateConnectionStatus(false);
                
                loadConnections();
                
                showToast('All local data cleared', 'success');
            }
        }

        // Switch tabs
        function switchTab(tabId) {
            // Hide all tabs
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }
        }

        // Show toast notification
        function showToast(message, type = 'info') {
            toastMessage.textContent = message;
            toast.className = 'toast';
            toast.classList.add('show');
            
            // Set type
            if (type === 'success') {
                toast.classList.add('toast-success');
                toast.querySelector('i').className = 'fas fa-check-circle';
            } else if (type === 'error') {
                toast.classList.add('toast-error');
                toast.querySelector('i').className = 'fas fa-exclamation-circle';
            } else {
                toast.classList.add('toast-info');
                toast.querySelector('i').className = 'fas fa-info-circle';
            }
            
            // Auto hide
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Show loader
        function showLoader() {
            loader.style.display = 'flex';
        }

        // Hide loader
        function hideLoader() {
            loader.style.display = 'none';
        }

        // Local storage helpers
        function saveToLocalStorage(key, value) {
            try {
                localStorage.setItem(key, JSON.stringify(value));
            } catch (error) {
                console.error('LocalStorage error:', error);
            }
        }

        function loadFromLocalStorage(key) {
            try {
                const item = localStorage.getItem(key);
                return item ? JSON.parse(item) : null;
            } catch (error) {
                console.error('LocalStorage error:', error);
                return null;
            }
        }
    </script>
</body>
</html>